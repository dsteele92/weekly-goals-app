{"ast":null,"code":"var _jsxFileName = \"/Users/daltonsteele/Coding/weekly-goals-app/client/src/components/presentational/homeWeekDisplay/HomeWeekDisplay.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport Style from './homeWeekDisplay.module.scss';\nimport { HomeGoalBlock } from 'components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function HomeWeekDisplay() {\n  _s();\n\n  const [goalsList, setGoalsList] = useState([]);\n  const [goalsDisplay, setGoalsDisplay] = useState([]);\n  const [allCategories, setAllCategories] = useState([]);\n\n  async function getGoals() {\n    try {\n      const categories = await axios.get('http://localhost:10000/category');\n      const goals = await axios.get('http://localhost:10000/goals');\n      const goalsData = goals.data;\n      console.log(goals.data);\n      let allGoals = [];\n\n      for (const goal in goalsData) {\n        const count = goalsData[goal].timesPerWeek;\n\n        for (let i = 0; i < count; i++) {\n          // dropId is for tracking the movement of the display blocks\n          // dayInfo is for tracking the day and dayIndex of the individual display blocks\n          const dayInfo = goalsData[goal].days[i];\n          const data = { ...goalsData[goal],\n            dayInfo\n          };\n          allGoals.push(data);\n        }\n      }\n\n      console.log(allGoals);\n      setAllCategories(categories.data);\n      setGoalsDisplay(allGoals);\n      setGoalsList(goalsData);\n    } catch (e) {\n      console.log(e);\n    }\n  } // this will run the axios request on the first render of the ListAllGoals component\n  // getGoals function will be passed through as prop (rerenderList) for AddGoal component\n  // --> so that after adding a new goal, getGoals can be called to update the list and rerender\n\n\n  if (goalsList.length === 0) {\n    getGoals();\n  }\n\n  let weekdays = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\n  let categories = [];\n\n  for (const goal in goalsList) {\n    const category = goalsList[goal].category;\n    let catExists = false;\n\n    for (const cat in categories) {\n      if (category.toLowerCase() === categories[cat].toLowerCase()) {\n        catExists = true;\n        break;\n      }\n    }\n\n    if (!catExists) {\n      categories.push(category);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: Style.homeWeekDisplay,\n    children: weekdays.map((day, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Style.container\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 3\n  }, this);\n}\n\n_s(HomeWeekDisplay, \"+gkgnqAeCGo05Ef3vxshc3gfDSU=\");\n\n_c = HomeWeekDisplay;\n\nvar _c;\n\n$RefreshReg$(_c, \"HomeWeekDisplay\");","map":{"version":3,"names":["React","useState","axios","Style","HomeGoalBlock","HomeWeekDisplay","goalsList","setGoalsList","goalsDisplay","setGoalsDisplay","allCategories","setAllCategories","getGoals","categories","get","goals","goalsData","data","console","log","allGoals","goal","count","timesPerWeek","i","dayInfo","days","push","e","length","weekdays","category","catExists","cat","toLowerCase","homeWeekDisplay","map","day","index","container"],"sources":["/Users/daltonsteele/Coding/weekly-goals-app/client/src/components/presentational/homeWeekDisplay/HomeWeekDisplay.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport Style from './homeWeekDisplay.module.scss';\n\nimport { HomeGoalBlock } from 'components';\n\nexport default function HomeWeekDisplay() {\n\tconst [goalsList, setGoalsList] = useState([]);\n\tconst [goalsDisplay, setGoalsDisplay] = useState([]);\n\tconst [allCategories, setAllCategories] = useState([]);\n\n\tasync function getGoals() {\n\t\ttry {\n\t\t\tconst categories = await axios.get('http://localhost:10000/category');\n\t\t\tconst goals = await axios.get('http://localhost:10000/goals');\n\t\t\tconst goalsData = goals.data;\n\t\t\tconsole.log(goals.data);\n\n\t\t\tlet allGoals = [];\n\t\t\tfor (const goal in goalsData) {\n\t\t\t\tconst count = goalsData[goal].timesPerWeek;\n\t\t\t\tfor (let i = 0; i < count; i++) {\n\t\t\t\t\t// dropId is for tracking the movement of the display blocks\n\t\t\t\t\t// dayInfo is for tracking the day and dayIndex of the individual display blocks\n\t\t\t\t\tconst dayInfo = goalsData[goal].days[i];\n\t\t\t\t\tconst data = { ...goalsData[goal], dayInfo };\n\t\t\t\t\tallGoals.push(data);\n\t\t\t\t}\n\t\t\t}\n\t\t\tconsole.log(allGoals);\n\t\t\tsetAllCategories(categories.data);\n\t\t\tsetGoalsDisplay(allGoals);\n\t\t\tsetGoalsList(goalsData);\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t}\n\t}\n\n\t// this will run the axios request on the first render of the ListAllGoals component\n\t// getGoals function will be passed through as prop (rerenderList) for AddGoal component\n\t// --> so that after adding a new goal, getGoals can be called to update the list and rerender\n\tif (goalsList.length === 0) {\n\t\tgetGoals();\n\t}\n\n\tlet weekdays = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\n\n\tlet categories = [];\n\n\tfor (const goal in goalsList) {\n\t\tconst category = goalsList[goal].category;\n\t\tlet catExists = false;\n\t\tfor (const cat in categories) {\n\t\t\tif (category.toLowerCase() === categories[cat].toLowerCase()) {\n\t\t\t\tcatExists = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (!catExists) {\n\t\t\tcategories.push(category);\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className={Style.homeWeekDisplay}>\n\t\t\t{weekdays.map((day, index) => (\n\t\t\t\t<div key={index} className={Style.container}>\n\t\t\t\t\t{/* {goalsList.filter((goal) => goal.)} */}\n\t\t\t\t</div>\n\t\t\t))}\n\t\t\t{/* <div className={Style.goalsDisplay}>\n\t\t\t\t{categories.map((cat, index) => (\n\t\t\t\t\t<div key={index} className={Style.container}>\n\t\t\t\t\t\t<h2 className={Style.header}>{cat}</h2>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t{goalsList\n\t\t\t\t\t\t\t\t.filter((goal) => goal.category.toLowerCase() === cat.toLowerCase())\n\t\t\t\t\t\t\t\t.map((goal, index) => (\n\t\t\t\t\t\t\t\t\t<li key={index}>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t{goal.name}\n\t\t\t\t\t\t\t\t\t\t\t{goal.timesPerWeek > 1 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<span className={Style.listCount}>{`X${goal.timesPerWeek}`}</span>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div> */}\n\t\t</div>\n\t);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}