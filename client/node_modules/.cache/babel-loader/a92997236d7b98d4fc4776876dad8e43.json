{"ast":null,"code":"var _jsxFileName = \"/Users/daltonsteele/Coding/weekly-goals-app/client/src/components/presentational/homeWeekDisplay/HomeWeekDisplay.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport Style from './homeWeekDisplay.module.scss';\nimport { Checkbox } from '@mui/material';\nimport { ThemeProvider } from '@mui/material/styles';\nimport theme from '../../../theme.js'; // import { HomeGoalBlock } from 'components';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function HomeWeekDisplay() {\n  _s();\n\n  const [goalsList, setGoalsList] = useState([]);\n  const [allCategories, setAllCategories] = useState([]);\n\n  async function getGoals() {\n    try {\n      const categories = await axios.get('http://localhost:10000/category');\n      const goals = await axios.get('http://localhost:10000/goals');\n      console.log(goals.data);\n      console.log(categories.data);\n      setAllCategories(categories.data);\n      setGoalsList(goals.data);\n    } catch (e) {\n      console.log(e);\n    }\n  } // this will run the axios request on the first render of the component\n\n\n  if (goalsList.length === 0 && allCategories.length === 0) {\n    getGoals();\n  } // this will be used to make sure that all of the data has been loaded\n  // before returning the page content... returning the child components without the data causes an error\n\n\n  const weekdays = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\n\n  async function handleCheckbox(e, id) {\n    const data = {\n      completed: e.target.checked\n    };\n    const response = await axios({\n      method: 'put',\n      url: `http://localhost:10000/goals/${id}`,\n      data: data\n    });\n    console.log(response);\n\n    if (response.status === 200) {\n      let arrayCopy = JSON.parse(JSON.stringify(goalsList));\n      const updated = arrayCopy.map(goal => {\n        if (goal._id === id) {\n          let copy = JSON.parse(JSON.stringify(goal));\n          copy.completed = e.target.checked;\n          return copy;\n        } else {\n          return goal;\n        }\n      });\n      setGoalsList(updated);\n      console.log(updated);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: Style.homeWeekDisplay,\n    children: weekdays.map((day, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: Style.day,\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: Style.header,\n          children: day\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 7\n        }, this), goalsList.filter(goal => goal.day === day).sort((a, b) => a.dayIndex - b.dayIndex).map((goal, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: Style[`goal${allCategories.filter(cat => cat.name.toLowerCase() === goal.category.toLowerCase())[0].color}`],\n          children: [goal.name, /*#__PURE__*/_jsxDEV(ThemeProvider, {\n            theme: theme,\n            children: /*#__PURE__*/_jsxDEV(Checkbox, {\n              inputProps: {\n                'aria-label': 'Complete? Y/N'\n              },\n              color: \"light\",\n              onChange: e => handleCheckbox(e, goal._id),\n              checked: goal.completed\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 10\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 6\n      }, this)\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 3\n  }, this);\n}\n\n_s(HomeWeekDisplay, \"YH90xi6RapTkJid7Mye2wzkTI08=\");\n\n_c = HomeWeekDisplay;\n\nvar _c;\n\n$RefreshReg$(_c, \"HomeWeekDisplay\");","map":{"version":3,"names":["React","useState","axios","Style","Checkbox","ThemeProvider","theme","HomeWeekDisplay","goalsList","setGoalsList","allCategories","setAllCategories","getGoals","categories","get","goals","console","log","data","e","length","weekdays","handleCheckbox","id","completed","target","checked","response","method","url","status","arrayCopy","JSON","parse","stringify","updated","map","goal","_id","copy","homeWeekDisplay","day","index","header","filter","sort","a","b","dayIndex","cat","name","toLowerCase","category","color"],"sources":["/Users/daltonsteele/Coding/weekly-goals-app/client/src/components/presentational/homeWeekDisplay/HomeWeekDisplay.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport Style from './homeWeekDisplay.module.scss';\n\nimport { Checkbox } from '@mui/material';\nimport { ThemeProvider } from '@mui/material/styles';\nimport theme from '../../../theme.js';\n\n// import { HomeGoalBlock } from 'components';\n\nexport default function HomeWeekDisplay() {\n\tconst [goalsList, setGoalsList] = useState([]);\n\tconst [allCategories, setAllCategories] = useState([]);\n\n\tasync function getGoals() {\n\t\ttry {\n\t\t\tconst categories = await axios.get('http://localhost:10000/category');\n\t\t\tconst goals = await axios.get('http://localhost:10000/goals');\n\t\t\tconsole.log(goals.data);\n\t\t\tconsole.log(categories.data);\n\n\t\t\tsetAllCategories(categories.data);\n\t\t\tsetGoalsList(goals.data);\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t}\n\t}\n\n\t// this will run the axios request on the first render of the component\n\tif (goalsList.length === 0 && allCategories.length === 0) {\n\t\tgetGoals();\n\t}\n\n\t// this will be used to make sure that all of the data has been loaded\n\t// before returning the page content... returning the child components without the data causes an error\n\n\tconst weekdays = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];\n\n\tasync function handleCheckbox(e, id) {\n\t\tconst data = { completed: e.target.checked };\n\t\tconst response = await axios({\n\t\t\tmethod: 'put',\n\t\t\turl: `http://localhost:10000/goals/${id}`,\n\t\t\tdata: data,\n\t\t});\n\t\tconsole.log(response);\n\t\tif (response.status === 200) {\n\t\t\tlet arrayCopy = JSON.parse(JSON.stringify(goalsList));\n\t\t\tconst updated = arrayCopy.map((goal) => {\n\t\t\t\tif (goal._id === id) {\n\t\t\t\t\tlet copy = JSON.parse(JSON.stringify(goal));\n\t\t\t\t\tcopy.completed = e.target.checked;\n\t\t\t\t\treturn copy;\n\t\t\t\t} else {\n\t\t\t\t\treturn goal;\n\t\t\t\t}\n\t\t\t});\n\t\t\tsetGoalsList(updated);\n\t\t\tconsole.log(updated);\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className={Style.homeWeekDisplay}>\n\t\t\t{weekdays.map((day, index) => (\n\t\t\t\t<div key={index} className={Style.day}>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<h2 className={Style.header}>{day}</h2>\n\t\t\t\t\t\t{goalsList\n\t\t\t\t\t\t\t.filter((goal) => goal.day === day)\n\t\t\t\t\t\t\t.sort((a, b) => a.dayIndex - b.dayIndex)\n\t\t\t\t\t\t\t.map((goal, index) => (\n\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\tStyle[\n\t\t\t\t\t\t\t\t\t\t\t`goal${\n\t\t\t\t\t\t\t\t\t\t\t\tallCategories.filter(\n\t\t\t\t\t\t\t\t\t\t\t\t\t(cat) => cat.name.toLowerCase() === goal.category.toLowerCase()\n\t\t\t\t\t\t\t\t\t\t\t\t)[0].color\n\t\t\t\t\t\t\t\t\t\t\t}`\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t\t{goal.name}\n\t\t\t\t\t\t\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tinputProps={{ 'aria-label': 'Complete? Y/N' }}\n\t\t\t\t\t\t\t\t\t\t\tcolor='light'\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => handleCheckbox(e, goal._id)}\n\t\t\t\t\t\t\t\t\t\t\tchecked={goal.completed}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</ThemeProvider>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t))}\n\t\t</div>\n\t);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}